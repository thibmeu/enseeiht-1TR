#include "list.h"
#include <stdio.h>
#include <assert.h>

//Tests List of int

void init_data(void** this)			//Be careful, only one parameter
{
	*this = malloc(sizeof(int));
}

void destroy_data(void* this)		//Free for default
{
	free(this);
}

void equal_data(void* a, void* b)	//Set first data to the second
{
	*(int*)a = *(int*)b;
}

int compar_data(void* a, void* b)
{
	return *(int*)a < *(int*)b;
}

void print_list(List list)
{
	Cell cell = list->cell;
	while (cell != NULL)
	{
		printf("%d\t|", *(int*)(cell->data));
		cell = cell->next;
	}
	printf("\n");
}

void unit_init()
{
	List list;
	init_List(&list, sizeof(int), init_data, destroy_data, equal_data, compar_data);
	
	destroy_List(&list);
}

void unit_add()
{
	List list;
	init_List(&list, sizeof(int), init_data, destroy_data, equal_data, compar_data);
	
	int un =1;
	add_List(list, &un);
	
	print_list(list);
	
	destroy_List(&list);
}

void tests()
{
	unit_init();
	unit_add();
}

int main(int argc, char** argv)
{
	tests();
	return 0;
}
