#include "binary.h"
#include <assert.h>

void unit_init_Binary()
{
	Binary binary;
	init_Binary(&binary);
	
	destruct_Binary(&binary);
}

void unit_init_fromByte_Binary()
{
	Binary binary;
	Byte* unByte = malloc(sizeof(Byte));
	*unByte = 1;
	init_fromByte_Binary(&binary, unByte, 1);
	
	print_hexa_Binary(binary);
	
	free(unByte);
	
	destruct_Binary(&binary);
}

void unit_left_shift_Binary()
{
	Binary binary;
	Byte* unByte = malloc(sizeof(Byte));
	*unByte = 3;
	init_fromByte_Binary(&binary, unByte, 2);
	print_hexa_Binary(binary);
	
	left_shift_Binary(binary, 7);
	print_hexa_Binary(binary);
	
	left_shift_Binary(binary, 1);
	print_hexa_Binary(binary);
	
	left_shift_Binary(binary, 15);
	print_hexa_Binary(binary);
	
	left_shift_Binary(binary, 16);
	print_hexa_Binary(binary);
	
	free(unByte);
	
	destruct_Binary(&binary);
}

void unit_right_shift_Binary()
{
	Binary binary;
	Byte* unByte = malloc(sizeof(Byte));
	*unByte = 3;
	init_fromByte_Binary(&binary, unByte, 2);
	
	right_shift_Binary(binary, 1);
	print_hexa_Binary(binary);
	
	left_shift_Binary(binary, 8);
	print_hexa_Binary(binary);
	
	right_shift_Binary(binary, 1);
	print_hexa_Binary(binary);
	
	left_shift_Binary(binary, 10);
	print_hexa_Binary(binary);
	
	right_shift_Binary(binary, 15);
	print_hexa_Binary(binary);
	
	free(unByte);
	
	destruct_Binary(&binary);
}

void unit_or_Binary()
{
	Binary binary;
	Byte* unByte = malloc(sizeof(Byte));
	*unByte = 2;
	init_fromByte_Binary(&binary, unByte, 2);
	
	left_shift_Binary(binary, 8);
	
	Binary unBinary = un_Binary();
	or_Binary(&binary, unBinary);
	print_hexa_Binary(binary);
	
	or_Binary(&unBinary, binary);
	print_hexa_Binary(unBinary);
	
	free(unByte);
	
	destruct_Binary(&binary);
}

void tests()
{
	//unit_init_Binary();
	//unit_init_fromByte_Binary();
	//unit_left_shift_Binary();
	//unit_right_shift_Binary();
	unit_or_Binary();
}

int main(int argc, char** argv)
{
	tests();
	return 0;
}
